<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PRSVZMHT');</script>
<!-- End Google Tag Manager -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EQV1R2TPSL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EQV1R2TPSL');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„ - OPITIOSæœŸæƒè¯¾ç¨‹</title>
    <meta name="description" content="å­¦ä¹ æœŸæƒäº¤æ˜“çš„ç¨åŠ¡è§„åˆ’å’Œåˆè§„è¦æ±‚ï¼ŒæŒæ¡ç¨åŠ¡ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿äº¤æ˜“åˆè§„æ€§ã€‚">
    <meta name="keywords" content="æœŸæƒç¨åŠ¡,ç¨åŠ¡è§„åˆ’,æœŸæƒåˆè§„,æœŸæƒäº¤æ˜“,ç¨åŠ¡ä¼˜åŒ–">
    <meta name="author" content="OPITIOSæœŸæƒè¯¾ç¨‹">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://opitios.com/option-course/lesson-44-tax-planning-compliance.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://opitios.com/option-course/lesson-44-tax-planning-compliance.html">
    <meta property="og:title" content="ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„ - OPITIOSæœŸæƒè¯¾ç¨‹">
    <meta property="og:description" content="å­¦ä¹ æœŸæƒäº¤æ˜“çš„ç¨åŠ¡è§„åˆ’å’Œåˆè§„è¦æ±‚ï¼ŒæŒæ¡ç¨åŠ¡ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿äº¤æ˜“åˆè§„æ€§ã€‚">
    <meta property="og:image" content="https://opitios.com/images/lesson-44-og.jpg">
    <meta property="og:site_name" content="OPITIOSæœŸæƒè¯¾ç¨‹">
    <meta property="og:locale" content="zh_CN">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://opitios.com/option-course/lesson-44-tax-planning-compliance.html">
    <meta property="twitter:title" content="ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„ - OPITIOSæœŸæƒè¯¾ç¨‹">
    <meta property="twitter:description" content="å­¦ä¹ æœŸæƒäº¤æ˜“çš„ç¨åŠ¡è§„åˆ’å’Œåˆè§„è¦æ±‚ï¼ŒæŒæ¡ç¨åŠ¡ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿äº¤æ˜“åˆè§„æ€§ã€‚">
    <meta property="twitter:image" content="https://opitios.com/images/lesson-44-twitter.jpg">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Course",
        "name": "ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„",
        "description": "å­¦ä¹ æœŸæƒäº¤æ˜“çš„ç¨åŠ¡è§„åˆ’å’Œåˆè§„è¦æ±‚ï¼ŒæŒæ¡ç¨åŠ¡ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿äº¤æ˜“åˆè§„æ€§ã€‚",
        "provider": {
            "@type": "Organization",
            "name": "OPITIOSæœŸæƒè¯¾ç¨‹",
            "url": "https://opitios.com"
        },
        "courseMode": "online",
        "educationalLevel": "beginner",
        "inLanguage": "zh-CN",
        "url": "https://opitios.com/option-course/lesson-44-tax-planning-compliance.html",
        "partOfSeries": {
            "@type": "CourseSeries",
            "name": "OPITIOSæœŸæƒè¯¾ç¨‹",
            "url": "https://opitios.com"
        }
    }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„ç®¡ç† - OPITIOS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #ffd700;
            --bg-color: #0a0a0b;
            --card-bg: #1a1a1b;
            --text-color: #ffffff;
            --text-secondary: #cccccc;
            --border-color: rgba(255, 215, 0, 0.2);
            --success-color: #10b981;
            --error-color: #ef4444;
            --tax-color: #dc2626;
            --compliance-color: #0891b2;
            --planning-color: #7c3aed;
            --optimization-color: #059669;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, var(--bg-color) 0%, #1a1a1b 100%);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header {
            background: linear-gradient(135deg, #1a1a1b 0%, #2d2d2f 100%);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-img {
            height: 40px;
            width: auto;
        }

        .progress-container {
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 999;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color) 0%, #ffed4e 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .main {
            margin-top: 100px;
            padding: 2rem 0;
        }

        .course-header {
            text-align: center;
            padding: 4rem 0;
        }

        .course-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, #ffed4e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .strategy-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--tax-color) 0%, var(--compliance-color) 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.1rem;
            margin: 1rem 0;
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.3);
        }

        .tax-banner {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.2) 0%, rgba(8, 145, 178, 0.1) 100%);
            border-left: 4px solid var(--tax-color);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            color: var(--tax-color);
            font-weight: 600;
        }

        .card {
            background: linear-gradient(135deg, var(--card-bg) 0%, #2a2a2c 100%);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .card p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .tax-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .tax-card {
            padding: 2rem;
            border-radius: 16px;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .tax-card:hover {
            transform: translateY(-5px);
        }

        .tax-card.short-term {
            border-color: var(--tax-color);
            background: rgba(220, 38, 38, 0.1);
        }

        .tax-card.short-term:hover {
            box-shadow: 0 15px 40px rgba(220, 38, 38, 0.2);
        }

        .tax-card.long-term {
            border-color: var(--optimization-color);
            background: rgba(5, 150, 105, 0.1);
        }

        .tax-card.long-term:hover {
            box-shadow: 0 15px 40px rgba(5, 150, 105, 0.2);
        }

        .tax-card.wash-sale {
            border-color: var(--compliance-color);
            background: rgba(8, 145, 178, 0.1);
        }

        .tax-card.wash-sale:hover {
            box-shadow: 0 15px 40px rgba(8, 145, 178, 0.2);
        }

        .tax-card.hedge {
            border-color: var(--planning-color);
            background: rgba(124, 58, 237, 0.1);
        }

        .tax-card.hedge:hover {
            box-shadow: 0 15px 40px rgba(124, 58, 237, 0.2);
        }

        .tax-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .tax-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .tax-card.short-term .tax-title {
            color: var(--tax-color);
        }

        .tax-card.long-term .tax-title {
            color: var(--optimization-color);
        }

        .tax-card.wash-sale .tax-title {
            color: var(--compliance-color);
        }

        .tax-card.hedge .tax-title {
            color: var(--planning-color);
        }

        .tax-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .chart-canvas {
            width: 100%;
            max-width: 800px;
            height: 500px;
            margin: 2rem auto;
            background: #000;
            border-radius: 12px;
            display: block;
        }

        .tax-calculator {
            background: rgba(220, 38, 38, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--tax-color);
        }

        .calc-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .control-label {
            color: var(--tax-color);
            font-size: 1rem;
            font-weight: 600;
        }

        .control-input, .control-select {
            padding: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: var(--text-color);
            font-size: 1rem;
        }

        .control-input:focus, .control-select:focus {
            outline: none;
            border-color: var(--tax-color);
        }

        .calc-btn {
            background: linear-gradient(135deg, var(--tax-color) 0%, var(--compliance-color) 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem 0;
        }

        .calc-btn:hover {
            transform: translateY(-2px);
        }

        .calc-results {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 2rem;
            margin: 1rem 0;
            display: none;
        }

        .calc-results.show {
            display: block;
        }

        .compliance-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            overflow: hidden;
        }

        .compliance-table th {
            background: var(--compliance-color);
            color: white;
            padding: 1rem;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .compliance-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.95rem;
        }

        .high-risk {
            background: rgba(220, 38, 38, 0.3);
            color: var(--tax-color);
            font-weight: 600;
        }

        .medium-risk {
            background: rgba(245, 158, 11, 0.3);
            color: #f59e0b;
            font-weight: 600;
        }

        .low-risk {
            background: rgba(5, 150, 105, 0.3);
            color: var(--optimization-color);
            font-weight: 600;
        }

        .strategy-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .example-card {
            padding: 2rem;
            border-radius: 16px;
            border-left: 4px solid var(--primary-color);
            background: rgba(255, 215, 0, 0.1);
            transition: all 0.3s ease;
        }

        .example-card:hover {
            transform: translateY(-3px);
        }

        .example-title {
            color: var(--primary-color);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .example-category {
            color: var(--tax-color);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .example-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .quiz-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.5);
        }

        .quiz-option.selected {
            background: rgba(255, 215, 0, 0.2);
            border-color: var(--primary-color);
        }

        .quiz-option.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success-color);
        }

        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--error-color);
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, #e6c200 100%);
            color: var(--bg-color);
            border: none;
            padding: 1rem 3rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 2rem 0;
            display: none;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .submit-btn.show {
            display: inline-block;
        }

        .quiz-results {
            text-align: center;
            padding: 3rem;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 20px;
            margin-top: 2rem;
            display: none;
        }

        .quiz-results.show {
            display: block;
        }

        .explanation {
            background: rgba(255, 215, 0, 0.1);
            padding: 1.5rem;
            margin-top: 1rem;
            border-radius: 8px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        @media (max-width: 768px) {
            .course-title {
                font-size: 2.5rem;
            }
            .tax-grid {
                grid-template-columns: 1fr;
            }
            .strategy-examples {
                grid-template-columns: 1fr;
            }
            .calc-controls {
                grid-template-columns: 1fr;
            }
            .card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="https://opitios.com/wp-content/uploads/2025/08/logo1.png" alt="OPITIOS Logo" class="logo-img">
                </div>
            </div>
        </div>
    </header>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <main class="main">
        <div class="container">
            <section class="course-header">
                <h1 class="course-title">ç¬¬44è¯¾ï¼šç¨åŠ¡è§„åˆ’ä¸åˆè§„ç®¡ç†</h1>
                <div class="strategy-badge">ğŸ“‹ å®æˆ˜ç²¾è¿›ç¯‡ Â· ç¨åŠ¡åˆè§„Tax & Complianceä¸“å®¶</div>
                <p style="font-size: 1.5rem; color: var(--text-secondary);">åˆè§„åˆ¶èƒœçš„æ™ºæ…§ï¼šæŒæ¡æœŸæƒç¨åŠ¡ä¼˜åŒ–ä¸é£é™©ç®¡æ§çš„ä¸“ä¸šç­–ç•¥</p>
            </section>

            <div class="tax-banner">
                ğŸ“‹ ç¨åŠ¡åˆè§„æ ¸å¿ƒï¼šé€šè¿‡æ·±å…¥ç†è§£ç¨æ³•è§„å®šã€åˆç†è¿ç”¨ç¨åŠ¡ç­–ç•¥ã€ä¸¥æ ¼éµå¾ªåˆè§„è¦æ±‚ï¼Œå®ç°æœŸæƒæŠ•èµ„çš„ç¨åŠ¡ä¼˜åŒ–å’Œé£é™©ç®¡æ§ï¼Œç¡®ä¿æŠ•èµ„æ”¶ç›Šçš„æœ€å¤§åŒ–å’Œåˆè§„æ€§ã€‚
            </div>

            <div class="card">
                <h3>æœŸæƒäº¤æ˜“ç¨åŠ¡ç®¡ç†çš„ç³»ç»ŸåŒ–æ¡†æ¶</h3>
                <p>æœŸæƒäº¤æ˜“çš„ç¨åŠ¡ç®¡ç†æ˜¯ä¸€ä¸ªå¤æ‚è€Œé‡è¦çš„ä¸“ä¸šé¢†åŸŸï¼Œæ¶‰åŠè”é‚¦ç¨æ³•ã€å·ç¨æ³•ã€å›½é™…ç¨åŠ¡åå®šç­‰å¤šä¸ªå±‚é¢çš„è§„å®šã€‚ä¸åŒç±»å‹çš„æœŸæƒäº¤æ˜“ï¼ˆæŠ•æœºã€å¯¹å†²ã€æ”¶ç›Šå¢å¼ºï¼‰ã€ä¸åŒçš„æŒæœ‰æœŸé—´ï¼ˆçŸ­æœŸvsé•¿æœŸï¼‰ã€ä¸åŒçš„äº¤æ˜“ç»“æ„ï¼ˆå•è…¿vsç»„åˆï¼‰éƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç¨åŠ¡åæœã€‚æˆåŠŸçš„ç¨åŠ¡è§„åˆ’ä¸ä»…è¦è€ƒè™‘å½“å‰çš„ç¨åŠ¡å½±å“ï¼Œè¿˜è¦é¢„åˆ¤æœªæ¥çš„ç¨æ³•å˜åŒ–å’ŒæŠ•èµ„ç»„åˆè°ƒæ•´ã€‚ä¸“ä¸šçš„æœŸæƒç¨åŠ¡ç®¡ç†èƒ½å¤Ÿæ˜¾è‘—æå‡æŠ•èµ„çš„ç¨åæ”¶ç›Šç‡ï¼ŒåŒæ—¶ç¡®ä¿ä¸¥æ ¼éµå¾ªæ‰€æœ‰ç›¸å…³æ³•è§„ã€‚è¿™éœ€è¦æŠ•èµ„è€…å»ºç«‹å®Œå–„çš„è®°å½•ä¿å­˜ç³»ç»Ÿã€å®šæœŸè¿›è¡Œç¨åŠ¡è¯„ä¼°ã€ä¸ä¸“ä¸šç¨åŠ¡é¡¾é—®ä¿æŒå¯†åˆ‡åˆä½œã€‚</p>

                <p><strong>çŸ­æœŸä¸é•¿æœŸèµ„æœ¬æ”¶ç›Šçš„ç¨åŠ¡å·®å¼‚</strong>ï¼šæœŸæƒäº¤æ˜“ä¸­æœ€é‡è¦çš„ç¨åŠ¡è€ƒè™‘æ˜¯çŸ­æœŸä¸é•¿æœŸèµ„æœ¬æ”¶ç›Šçš„åŒºåˆ«å¤„ç†ã€‚çŸ­æœŸèµ„æœ¬æ”¶ç›Šï¼ˆæŒæœ‰æœŸä¸è¶…è¿‡ä¸€å¹´ï¼‰æŒ‰æ™®é€šæ”¶å…¥ç¨ç‡å¾ç¨ï¼Œæœ€é«˜å¯è¾¾37%ï¼›é•¿æœŸèµ„æœ¬æ”¶ç›Šäº«å—æ›´ä¼˜æƒ çš„ç¨ç‡ï¼Œé€šå¸¸ä¸º0%ã€15%æˆ–20%ã€‚ä½†æ˜¯ï¼Œå¤§å¤šæ•°æœŸæƒäº¤æ˜“è¢«è§†ä¸ºçŸ­æœŸäº¤æ˜“ï¼Œå³ä½¿æ ‡çš„èµ„äº§çš„æŒæœ‰æœŸè¶…è¿‡ä¸€å¹´ã€‚è¿™æ˜¯å› ä¸ºæœŸæƒæœ¬èº«çš„æŒæœ‰æœŸé€šå¸¸å¾ˆçŸ­ï¼Œä¸”æœŸæƒäº¤æ˜“é€šå¸¸è¢«å½’ç±»ä¸ºæŠ•æœºæ€§äº¤æ˜“ã€‚ç„¶è€Œï¼ŒæŸäº›ç­–ç•¥å¦‚ä¿æŠ¤æ€§çœ‹è·ŒæœŸæƒå¯èƒ½ç¬¦åˆå¯¹å†²äº¤æ˜“çš„å®šä¹‰ï¼Œä»è€Œäº«å—æ›´æœ‰åˆ©çš„ç¨åŠ¡å¤„ç†ã€‚ç†è§£è¿™äº›ç»†å¾®å·®åˆ«å¯¹ç¨åŠ¡è§„åˆ’è‡³å…³é‡è¦ã€‚</p>

                <p><strong>æ´—å”®è§„åˆ™çš„è§„é¿ä¸åˆè§„ç­–ç•¥</strong>ï¼šæ´—å”®è§„åˆ™ï¼ˆWash Sale Ruleï¼‰æ˜¯æœŸæƒäº¤æ˜“ä¸­æœ€å¸¸é‡åˆ°çš„ç¨åŠ¡é™·é˜±ä¹‹ä¸€ã€‚è¯¥è§„åˆ™è§„å®šï¼Œå¦‚æœåœ¨å®ç°æŸå¤±å‰å30å¤©å†…è´­ä¹°äº†å®è´¨ç›¸åŒçš„è¯åˆ¸ï¼Œåˆ™è¯¥æŸå¤±ä¸èƒ½ç”¨äºç¨åŠ¡æ‰£é™¤ã€‚åœ¨æœŸæƒäº¤æ˜“ä¸­ï¼Œæ´—å”®è§„åˆ™çš„é€‚ç”¨æ›´åŠ å¤æ‚ï¼Œå› ä¸ºéœ€è¦åˆ¤æ–­ä¸åŒæ‰§è¡Œä»·æ ¼ã€åˆ°æœŸæ—¥çš„æœŸæƒæ˜¯å¦æ„æˆ"å®è´¨ç›¸åŒ"ã€‚é¿å…è¿åæ´—å”®è§„åˆ™çš„ç­–ç•¥åŒ…æ‹¬ï¼šç­‰å¾…31å¤©åå†å»ºç«‹ç›¸ä¼¼å¤´å¯¸ã€ä½¿ç”¨ä¸åŒæ‰§è¡Œä»·æ ¼çš„æœŸæƒã€é€šè¿‡æœŸæƒç­–ç•¥ç»„åˆç»•è¿‡é™åˆ¶ç­‰ã€‚åŒæ—¶ï¼ŒæŠ•èµ„è€…éœ€è¦å»ºç«‹å®Œå–„çš„äº¤æ˜“è®°å½•ç³»ç»Ÿï¼Œå‡†ç¡®è·Ÿè¸ªæ‰€æœ‰ç›¸å…³äº¤æ˜“çš„æ—¶é—´å’Œç»†èŠ‚ã€‚</p>

                <p><strong>Section 1256åˆçº¦çš„ç‰¹æ®Šç¨åŠ¡å¤„ç†</strong>ï¼šæŸäº›æœŸæƒäº¤æ˜“å¯èƒ½æ¶‰åŠSection 1256åˆçº¦ï¼Œå¦‚è‚¡æŒ‡æœŸæƒã€å¤–æ±‡æœŸæƒç­‰ï¼Œè¿™äº›åˆçº¦äº«å—ç‰¹æ®Šçš„ç¨åŠ¡å¤„ç†ã€‚60%çš„æ”¶ç›Šæˆ–æŸå¤±æŒ‰é•¿æœŸèµ„æœ¬æ”¶ç›Šå¤„ç†ï¼Œ40%æŒ‰çŸ­æœŸå¤„ç†ï¼Œæ— è®ºå®é™…æŒæœ‰æœŸé—´é•¿çŸ­ã€‚æ­¤å¤–ï¼Œè¿™äº›åˆçº¦é‡‡ç”¨"æ ‡å¸‚è®¡ä»·"ï¼ˆMark-to-Marketï¼‰æ–¹æ³•ï¼Œå³ä½¿æœªå®ç°çš„æ”¶ç›Šæˆ–æŸå¤±ä¹Ÿéœ€è¦åœ¨å¹´æœ«ç¡®è®¤çº³ç¨ã€‚è¿™ç§å¤„ç†æ–¹å¼å¯èƒ½å¸¦æ¥ç°é‡‘æµæŒ‘æˆ˜ï¼Œå› ä¸ºæŠ•èµ„è€…å¯èƒ½éœ€è¦ä¸ºæœªå®ç°æ”¶ç›Šçº³ç¨ã€‚ä¸“ä¸šçš„ç¨åŠ¡è§„åˆ’éœ€è¦è€ƒè™‘è¿™äº›ç‰¹æ®Šè§„åˆ™å¯¹æ•´ä½“æŠ•èµ„ç­–ç•¥çš„å½±å“ã€‚</p>
            </div>

            <section class="tax-grid">
                <div class="tax-card short-term">
                    <span class="tax-icon">ğŸ“Š</span>
                    <div class="tax-title">çŸ­æœŸèµ„æœ¬æ”¶ç›Š</div>
                    <div class="tax-description">
                        æŒæœ‰æœŸä¸è¶…è¿‡ä¸€å¹´çš„æ”¶ç›ŠæŒ‰æ™®é€šæ”¶å…¥ç¨ç‡å¾ç¨ï¼Œç¨ç‡é«˜è¾¾37%ï¼Œé€‚ç”¨äºå¤§å¤šæ•°æœŸæƒäº¤æ˜“ã€‚
                    </div>
                </div>

                <div class="tax-card long-term">
                    <span class="tax-icon">ğŸŒ±</span>
                    <div class="tax-title">é•¿æœŸèµ„æœ¬æ”¶ç›Š</div>
                    <div class="tax-description">
                        æŒæœ‰æœŸè¶…è¿‡ä¸€å¹´çš„æ”¶ç›Šäº«å—ä¼˜æƒ ç¨ç‡0%-20%ï¼Œä½†å¤§å¤šæ•°æœŸæƒäº¤æ˜“éš¾ä»¥æ»¡è¶³æ­¤æ¡ä»¶ã€‚
                    </div>
                </div>

                <div class="tax-card wash-sale">
                    <span class="tax-icon">ğŸš«</span>
                    <div class="tax-title">æ´—å”®è§„åˆ™</div>
                    <div class="tax-description">
                        30å¤©å†…ä¹°å…¥å®è´¨ç›¸åŒè¯åˆ¸å°†å¯¼è‡´æŸå¤±æ‰£é™¤è¢«å»¶è¿Ÿï¼Œéœ€è¦è°¨æ…è§„åˆ’äº¤æ˜“æ—¶æœºã€‚
                    </div>
                </div>

                <div class="tax-card hedge">
                    <span class="tax-icon">ğŸ›¡ï¸</span>
                    <div class="tax-title">å¯¹å†²äº¤æ˜“</div>
                    <div class="tax-description">
                        ç¬¦åˆå¯¹å†²å®šä¹‰çš„æœŸæƒç­–ç•¥å¯èƒ½äº«å—æ›´æœ‰åˆ©çš„ç¨åŠ¡å¤„ç†ï¼Œä½†éœ€æ»¡è¶³ä¸¥æ ¼æ¡ä»¶ã€‚
                    </div>
                </div>
            </section>

            <!-- ç¨åŠ¡è®¡ç®—å™¨ -->
            <div class="card">
                <h3>æ™ºèƒ½ç¨åŠ¡å½±å“è®¡ç®—å™¨</h3>
                <div class="tax-calculator">
                    <h4 style="color: var(--tax-color); text-align: center; margin-bottom: 2rem;">æœŸæƒäº¤æ˜“ç¨åŠ¡ä¼˜åŒ–åˆ†æå·¥å…·</h4>
                    <div class="calc-controls">
                        <div class="control-group">
                            <label class="control-label">äº¤æ˜“æ”¶ç›Š ($)</label>
                            <input type="number" class="control-input" id="grossIncome" value="50000" min="0" max="1000000" step="1000">
                        </div>

                        <div class="control-group">
                            <label class="control-label">æŒæœ‰æœŸé—´</label>
                            <select class="control-select" id="holdingPeriod">
                                <option value="short">çŸ­æœŸ (â‰¤1å¹´)</option>
                                <option value="long">é•¿æœŸ (>1å¹´)</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label class="control-label">ç¨åŠ¡èº«ä»½</label>
                            <select class="control-select" id="taxStatus">
                                <option value="single">å•èº«</option>
                                <option value="married">å¤«å¦»åˆå¹¶</option>
                                <option value="head">æˆ·ä¸»</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label class="control-label">å¹´æ”¶å…¥æ°´å¹³ ($)</label>
                            <select class="control-select" id="incomeLevel">
                                <option value="low">40,000ä»¥ä¸‹</option>
                                <option value="medium">40,000-400,000</option>
                                <option value="high">400,000ä»¥ä¸Š</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label class="control-label">äº¤æ˜“æŸå¤± ($)</label>
                            <input type="number" class="control-input" id="tradingLoss" value="0" min="0" max="100000" step="1000">
                        </div>

                        <div class="control-group">
                            <label class="control-label">äº¤æ˜“è´¹ç”¨ ($)</label>
                            <input type="number" class="control-input" id="tradingExpenses" value="2000" min="0" max="50000" step="500">
                        </div>
                    </div>
                    <button class="calc-btn" onclick="calculateTax()">è®¡ç®—ç¨åŠ¡å½±å“</button>
                    <div class="calc-results" id="taxResults">
                        <div id="taxOutput"></div>
                    </div>
                </div>
            </div>

            <!-- åˆè§„é£é™©è¯„ä¼°è¡¨ -->
            <div class="card">
                <h3>æœŸæƒäº¤æ˜“åˆè§„é£é™©è¯„ä¼°çŸ©é˜µ</h3>
                <table class="compliance-table">
                    <thead>
                        <tr>
                            <th>åˆè§„è¦æ±‚</th>
                            <th>é£é™©ç­‰çº§</th>
                            <th>æ½œåœ¨åæœ</th>
                            <th>é¢„é˜²æªæ–½</th>
                            <th>ç›‘æ§é¢‘ç‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>æ´—å”®è§„åˆ™è¿è§„</strong></td>
                            <td class="high-risk">é«˜é£é™©</td>
                            <td>æŸå¤±æ‰£é™¤è¢«å»¶è¿Ÿ</td>
                            <td>30å¤©ç­‰å¾…æœŸç®¡ç†</td>
                            <td>æ¯ç¬”äº¤æ˜“</td>
                        </tr>
                        <tr>
                            <td><strong>åšç©ºè§„åˆ™è¿å</strong></td>
                            <td class="medium-risk">ä¸­é£é™©</td>
                            <td>ç½šæ¬¾å’Œåˆ©æ¯</td>
                            <td>å»ºç«‹å€Ÿåˆ¸æœºåˆ¶</td>
                            <td>æ¯æ—¥æ£€æŸ¥</td>
                        </tr>
                        <tr>
                            <td><strong>å†…å¹•äº¤æ˜“å«Œç–‘</strong></td>
                            <td class="high-risk">é«˜é£é™©</td>
                            <td>åˆ‘äº‹å’Œæ°‘äº‹è´£ä»»</td>
                            <td>ä¸¥æ ¼ä¿¡æ¯éš”ç¦»</td>
                            <td>å®æ—¶ç›‘æ§</td>
                        </tr>
                        <tr>
                            <td><strong>æ“çºµå¸‚åœºè¡Œä¸º</strong></td>
                            <td class="high-risk">é«˜é£é™©</td>
                            <td>é‡å¤§æ³•å¾‹åæœ</td>
                            <td>äº¤æ˜“æ¨¡å¼å®¡æŸ¥</td>
                            <td>å®æ—¶ç›‘æ§</td>
                        </tr>
                        <tr>
                            <td><strong>èµ„æœ¬å……è¶³ç‡ä¸è¶³</strong></td>
                            <td class="medium-risk">ä¸­é£é™©</td>
                            <td>å¼ºåˆ¶å¹³ä»“é£é™©</td>
                            <td>å®æ—¶ä¿è¯é‡‘ç®¡ç†</td>
                            <td>æ¯æ—¥æ£€æŸ¥</td>
                        </tr>
                        <tr>
                            <td><strong>æŠ¥å‘Šä¹‰åŠ¡é—æ¼</strong></td>
                            <td class="medium-risk">ä¸­é£é™©</td>
                            <td>ç›‘ç®¡å¤„ç½š</td>
                            <td>è‡ªåŠ¨æŠ¥å‘Šç³»ç»Ÿ</td>
                            <td>å®šæœŸå®¡æ ¸</td>
                        </tr>
                        <tr>
                            <td><strong>è®°å½•ä¿å­˜ä¸å½“</strong></td>
                            <td class="low-risk">ä½é£é™©</td>
                            <td>å®¡è®¡å›°éš¾</td>
                            <td>å®Œå–„è®°å½•ç³»ç»Ÿ</td>
                            <td>æœˆåº¦æ£€æŸ¥</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- äº¤äº’å¼å›¾è¡¨ -->
            <section class="chart-container">
                <h3 style="color: var(--primary-color); margin-bottom: 1rem;">æœŸæƒäº¤æ˜“ç¨åŠ¡ä¼˜åŒ–æ•ˆæœå¯¹æ¯”</h3>
                <p style="color: var(--text-secondary); margin-bottom: 2rem;">å±•ç¤ºä¸åŒç­–ç•¥å’ŒæŒæœ‰æœŸçš„ç¨åŠ¡å½±å“ï¼š</p>
                <canvas class="chart-canvas" id="taxChart" width="800" height="500"></canvas>
                <div style="margin-top: 1rem;">
                    <span style="color: var(--tax-color);">â– </span> ç¨å‰æ”¶ç›Š
                    <span style="margin-left: 2rem; color: var(--compliance-color);">â– </span> ç¨åŠ¡æˆæœ¬
                    <span style="margin-left: 2rem; color: var(--optimization-color);">â– </span> ç¨åå‡€æ”¶ç›Š
                </div>
            </section>

            <div class="card">
                <h3>æœŸæƒç¨åŠ¡ä¼˜åŒ–ç­–ç•¥æ¡ˆä¾‹åˆ†æ</h3>
                <div class="strategy-examples">
                    <div class="example-card">
                        <div class="example-title">ğŸ“… æ—¶æœºä¼˜åŒ–ç­–ç•¥</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šæŸç›Šç¡®è®¤æ—¶æœºç®¡ç†</div>
                        <div class="example-description">
                            é€šè¿‡æ§åˆ¶æ”¶ç›Šå’ŒæŸå¤±çš„ç¡®è®¤æ—¶æœºï¼Œåœ¨é«˜æ”¶å…¥å¹´åº¦å®ç°æŸå¤±ï¼Œåœ¨ä½æ”¶å…¥å¹´åº¦å®ç°æ”¶ç›Šï¼Œè¾¾åˆ°ç¨åŠ¡ä¼˜åŒ–æ•ˆæœã€‚
                        </div>
                    </div>

                    <div class="example-card">
                        <div class="example-title">ğŸ”„ æ´—å”®è§„é¿ç­–ç•¥</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šåˆè§„é£é™©ç®¡æ§</div>
                        <div class="example-description">
                            ä½¿ç”¨ä¸åŒæ‰§è¡Œä»·æ ¼çš„æœŸæƒã€ETFæ›¿ä»£ç­–ç•¥ã€ç»„åˆç­–ç•¥ç­‰æ–¹æ³•ï¼Œåœ¨ä¿æŒå¸‚åœºæ•å£çš„åŒæ—¶é¿å…æ´—å”®è§„åˆ™é™åˆ¶ã€‚
                        </div>
                    </div>

                    <div class="example-card">
                        <div class="example-title">ğŸ›ï¸ é€€ä¼‘è´¦æˆ·ä¼˜åŒ–</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šç¨åŠ¡åº‡æŠ¤è´¦æˆ·åº”ç”¨</div>
                        <div class="example-description">
                            å°†é«˜é¢‘æœŸæƒäº¤æ˜“é›†ä¸­åœ¨IRAç­‰ç¨åŠ¡åº‡æŠ¤è´¦æˆ·ä¸­ï¼Œé¿å…é¢‘ç¹çš„ç¨åŠ¡ç¡®è®¤ï¼Œå®ç°ç¨åŠ¡å»¶é€’ã€‚
                        </div>
                    </div>

                    <div class="example-card">
                        <div class="example-title">ğŸ“‹ è®°å½•ç®¡ç†ç³»ç»Ÿ</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šåˆè§„åŸºç¡€è®¾æ–½</div>
                        <div class="example-description">
                            å»ºç«‹å®Œå–„çš„äº¤æ˜“è®°å½•ã€æˆæœ¬åŸºç¡€è®¡ç®—ã€ç¨åŠ¡æ–‡æ¡£ç®¡ç†ç³»ç»Ÿï¼Œç¡®ä¿å‡†ç¡®çš„ç¨åŠ¡æŠ¥å‘Šå’Œå®¡è®¡å‡†å¤‡ã€‚
                        </div>
                    </div>

                    <div class="example-card">
                        <div class="example-title">âš–ï¸ ä¸“ä¸šäººå£«ç­–ç•¥</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šäº¤æ˜“è€…åœ°ä½ä¼˜åŒ–</div>
                        <div class="example-description">
                            å¯¹äºç¬¦åˆæ¡ä»¶çš„ä¸“ä¸šäº¤æ˜“è€…ï¼Œå¯ä»¥äº«å—æ›´æœ‰åˆ©çš„ç¨åŠ¡å¤„ç†ï¼ŒåŒ…æ‹¬æ™®é€šæŸå¤±æ‰£é™¤å’Œé¢å¤–è´¹ç”¨æ‰£é™¤ã€‚
                        </div>
                    </div>

                    <div class="example-card">
                        <div class="example-title">ğŸŒ å›½é™…ç¨åŠ¡ç­¹åˆ’</div>
                        <div class="example-category">ç­–ç•¥ç±»å‹ï¼šè·¨å¢ƒç¨åŠ¡ä¼˜åŒ–</div>
                        <div class="example-description">
                            å¯¹äºæ¶‰åŠå¤–å›½æœŸæƒæˆ–åœ¨å¤–å›½äº¤æ˜“æ‰€äº¤æ˜“çš„æƒ…å†µï¼Œéœ€è¦è€ƒè™‘åŒé‡å¾ç¨åå®šå’Œå¤–å›½ç¨æ”¶æŠµå…ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>æœŸæƒç¨åŠ¡åˆè§„çš„å‰æ²¿å‘å±•ä¸æŒ‘æˆ˜</h3>
                <p><strong>æ•°å­—åŒ–ç¨åŠ¡ç®¡ç†ç³»ç»Ÿçš„æ™®åŠ</strong>ï¼šç°ä»£æœŸæƒç¨åŠ¡ç®¡ç†æ­£æœç€å…¨é¢æ•°å­—åŒ–çš„æ–¹å‘å‘å±•ã€‚äººå·¥æ™ºèƒ½ç¨åŠ¡è½¯ä»¶èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªæ‰€æœ‰äº¤æ˜“ï¼Œè‡ªåŠ¨è¯†åˆ«æ´—å”®æƒ…å†µï¼Œä¼˜åŒ–ç¨åŠ¡ç¡®è®¤æ—¶æœºï¼Œç”Ÿæˆåˆè§„æŠ¥å‘Šã€‚åŒºå—é“¾æŠ€æœ¯æä¾›äº†ä¸å¯ç¯¡æ”¹çš„äº¤æ˜“è®°å½•ï¼Œå¢å¼ºäº†ç¨åŠ¡é€æ˜åº¦å’Œå®¡è®¡å¯é æ€§ã€‚äº‘ç«¯ç¨åŠ¡ç®¡ç†å¹³å°ä½¿æŠ•èµ„è€…èƒ½å¤Ÿéšæ—¶éšåœ°ç›‘æ§ç¨åŠ¡çŠ¶å†µã€‚æœºå™¨å­¦ä¹ ç®—æ³•åˆ†æå†å²äº¤æ˜“æ¨¡å¼ï¼Œé¢„æµ‹ç¨åŠ¡ä¼˜åŒ–æœºä¼šã€‚è¿™äº›æŠ€æœ¯çš„åº”ç”¨å¤§å¤§é™ä½äº†åˆè§„æˆæœ¬ï¼Œæé«˜äº†ç¨åŠ¡ç®¡ç†æ•ˆç‡ã€‚</p>

                <p><strong>ç›‘ç®¡ç§‘æŠ€ä¸å®æ—¶åˆè§„ç›‘æ§</strong>ï¼šç›‘ç®¡æœºæ„æ­£åœ¨é‡‡ç”¨æ›´å…ˆè¿›çš„æŠ€æœ¯æ‰‹æ®µè¿›è¡Œåˆè§„ç›‘ç®¡ã€‚å®æ—¶äº¤æ˜“ç›‘æ§ç³»ç»Ÿèƒ½å¤Ÿè¯†åˆ«å¯ç–‘çš„äº¤æ˜“æ¨¡å¼ï¼Œè‡ªåŠ¨æ ‡è®°æ½œåœ¨è¿è§„è¡Œä¸ºã€‚å¤§æ•°æ®åˆ†ææŠ€æœ¯å¸®åŠ©ç›‘ç®¡è€…å‘ç°å¤æ‚çš„è¿è§„ç½‘ç»œã€‚APIæ¥å£ä½¿ç›‘ç®¡æŠ¥å‘Šè‡ªåŠ¨åŒ–ï¼Œå‡å°‘äººä¸ºé”™è¯¯ã€‚æŠ•èµ„è€…éœ€è¦å»ºç«‹ç›¸åº”çš„ç›‘ç®¡ç§‘æŠ€ç³»ç»Ÿæ¥åº”å¯¹è¿™ç§å˜åŒ–ï¼Œç¡®ä¿æ‰€æœ‰äº¤æ˜“æ´»åŠ¨éƒ½ç¬¦åˆæœ€æ–°çš„åˆè§„è¦æ±‚ã€‚é¢„é˜²æ€§åˆè§„æ¯”äº‹åè¡¥æ•‘æ›´åŠ ç»æµæœ‰æ•ˆã€‚</p>

                <p><strong>ç¨æ³•æ”¹é©ä¸æ”¿ç­–å˜åŒ–çš„åº”å¯¹</strong>ï¼šç¨æ³•æ˜¯ä¸€ä¸ªä¸æ–­å˜åŒ–çš„é¢†åŸŸï¼ŒæŠ•èµ„è€…å¿…é¡»å¯†åˆ‡å…³æ³¨æ”¿ç­–åŠ¨å‘å¹¶åŠæ—¶è°ƒæ•´ç­–ç•¥ã€‚è¿‘å¹´æ¥ï¼Œå¯¹é«˜é¢‘äº¤æ˜“çš„ç¨åŠ¡ç›‘ç®¡è¶‹ä¸¥ï¼Œå¯¹æ•°å­—èµ„äº§çš„ç¨åŠ¡å¤„ç†æ—¥è¶‹æ˜ç¡®ï¼Œå¯¹è·¨å¢ƒäº¤æ˜“çš„åˆè§„è¦æ±‚ä¸æ–­æé«˜ã€‚æˆåŠŸçš„ç¨åŠ¡è§„åˆ’éœ€è¦å…·å¤‡å‰ç»æ€§ï¼Œèƒ½å¤Ÿé¢„åˆ¤æ”¿ç­–æ–¹å‘å¹¶æå‰å¸ƒå±€ã€‚ä¸ä¸“ä¸šç¨åŠ¡é¡¾é—®ã€æ³•å¾‹ä¸“å®¶ä¿æŒå¯†åˆ‡åˆä½œï¼Œå®šæœŸå‚åŠ ç¨åŠ¡åŸ¹è®­ï¼Œå»ºç«‹çµæ´»çš„ç­–ç•¥è°ƒæ•´æœºåˆ¶éƒ½æ˜¯å¿…è¦çš„æªæ–½ã€‚</p>

                <p><strong>ESGå› ç´ å¯¹ç¨åŠ¡åˆè§„çš„å½±å“</strong>ï¼šç¯å¢ƒã€ç¤¾ä¼šå’Œæ²»ç†ï¼ˆESGï¼‰å› ç´ æ­£åœ¨æˆä¸ºç¨åŠ¡åˆè§„çš„æ–°ç»´åº¦ã€‚ç»¿è‰²ç¨æ”¶æ¿€åŠ±é¼“åŠ±æŠ•èµ„è€…é€‰æ‹©ç¯å¢ƒå‹å¥½çš„æŠ•èµ„æ ‡çš„ã€‚ç¤¾ä¼šè´£ä»»æŠ•èµ„çš„ç¨åŠ¡å¤„ç†å¯èƒ½äº«å—ç‰¹æ®Šå¾…é‡ã€‚é€æ˜çš„æ²»ç†ç»“æ„æœ‰åŠ©äºé™ä½åˆè§„é£é™©ã€‚æœŸæƒæŠ•èµ„è€…éœ€è¦å°†ESGå› ç´ çº³å…¥ç¨åŠ¡è§„åˆ’è€ƒè™‘ï¼Œè¿™ä¸ä»…æœ‰åŠ©äºé£é™©ç®¡æ§ï¼Œä¹Ÿå¯èƒ½å¸¦æ¥ç¨åŠ¡ä¼˜æƒ ã€‚æœªæ¥çš„ç¨åŠ¡åˆè§„å°†æ›´åŠ æ³¨é‡å¯æŒç»­å‘å±•å’Œç¤¾ä¼šè´£ä»»ã€‚</p>
            </div>

            <section class="quiz-section">
                <h3 style="color: var(--primary-color);">çŸ¥è¯†æµ‹éªŒ</h3>
                <div id="quizContainer"></div>
                <button class="submit-btn" id="submitQuiz">æäº¤ç­”æ¡ˆ</button>
                <div id="quizResults" class="quiz-results">
                    <h4>æµ‹éªŒç»“æœ</h4>
                    <div id="finalScore">0/4</div>
                    <div id="resultsMessage"></div>
                </div>
            </section>
        </div>
    </main>

    <script>
        const quizData = [
            {
                question: "å¤§å¤šæ•°æœŸæƒäº¤æ˜“çš„æ”¶ç›ŠæŒ‰ä»€ä¹ˆç¨ç‡å¾ç¨ï¼Ÿ",
                options: [
                    "é•¿æœŸèµ„æœ¬æ”¶ç›Šç¨ç‡ (0-20%)",
                    "çŸ­æœŸèµ„æœ¬æ”¶ç›Šç¨ç‡ (åŒæ™®é€šæ”¶å…¥)",
                    "ç‰¹æ®ŠæœŸæƒç¨ç‡ (15%)",
                    "å…ç¨"
                ],
                correct: 1,
                explanation: "å¤§å¤šæ•°æœŸæƒäº¤æ˜“è¢«è§†ä¸ºçŸ­æœŸäº¤æ˜“ï¼ŒæŒ‰æ™®é€šæ”¶å…¥ç¨ç‡å¾ç¨ï¼Œæœ€é«˜å¯è¾¾37%ï¼Œå³ä½¿æ ‡çš„èµ„äº§æŒæœ‰æœŸè¶…è¿‡ä¸€å¹´ã€‚"
            },
            {
                question: "æ´—å”®è§„åˆ™çš„æ ¸å¿ƒè¦æ±‚æ˜¯ï¼Ÿ",
                options: [
                    "ä¸èƒ½åœ¨åŒä¸€å¤©ä¹°å–ç›¸åŒæœŸæƒ",
                    "æŸå¤±å‰å30å¤©å†…ä¸èƒ½è´­ä¹°å®è´¨ç›¸åŒè¯åˆ¸",
                    "ä¸èƒ½è¿ç»­äº¤æ˜“åŒä¸€æ ‡çš„",
                    "ä¸èƒ½åœ¨å¹´æœ«å‰å®ç°æŸå¤±"
                ],
                correct: 1,
                explanation: "æ´—å”®è§„åˆ™è§„å®šï¼Œåœ¨å®ç°æŸå¤±å‰å30å¤©å†…è´­ä¹°å®è´¨ç›¸åŒè¯åˆ¸ï¼Œè¯¥æŸå¤±ä¸èƒ½ç”¨äºç¨åŠ¡æ‰£é™¤ã€‚"
            },
            {
                question: "Section 1256åˆçº¦çš„ç¨åŠ¡ç‰¹ç‚¹æ˜¯ï¼Ÿ",
                options: [
                    "å…¨éƒ¨æŒ‰é•¿æœŸèµ„æœ¬æ”¶ç›Šå¤„ç†",
                    "å…¨éƒ¨æŒ‰çŸ­æœŸèµ„æœ¬æ”¶ç›Šå¤„ç†",
                    "60%é•¿æœŸ40%çŸ­æœŸï¼Œé‡‡ç”¨æ ‡å¸‚è®¡ä»·",
                    "å…ç¨å¤„ç†"
                ],
                correct: 2,
                explanation: "Section 1256åˆçº¦äº«å—ç‰¹æ®Šç¨åŠ¡å¤„ç†ï¼š60%æŒ‰é•¿æœŸèµ„æœ¬æ”¶ç›Šå¤„ç†ï¼Œ40%æŒ‰çŸ­æœŸå¤„ç†ï¼Œä¸”é‡‡ç”¨æ ‡å¸‚è®¡ä»·æ–¹æ³•ã€‚"
            },
            {
                question: "æœŸæƒç¨åŠ¡ä¼˜åŒ–çš„æœ€ä½³å®è·µæ˜¯ï¼Ÿ",
                options: [
                    "å¿½ç•¥ç¨åŠ¡å½±å“ä¸“æ³¨æ”¶ç›Š",
                    "ç³»ç»ŸåŒ–ç¨åŠ¡è§„åˆ’å’Œå®æ—¶åˆè§„ç›‘æ§",
                    "åªåœ¨å¹´æœ«è€ƒè™‘ç¨åŠ¡é—®é¢˜",
                    "å®Œå…¨ä¾èµ–ç¨åŠ¡è½¯ä»¶"
                ],
                correct: 1,
                explanation: "æœ€ä½³å®è·µæ˜¯å»ºç«‹ç³»ç»ŸåŒ–çš„ç¨åŠ¡è§„åˆ’ä½“ç³»ï¼ŒåŒ…æ‹¬å®æ—¶åˆè§„ç›‘æ§ã€è®°å½•ç®¡ç†å’Œä¸“ä¸šå’¨è¯¢æ”¯æŒã€‚"
            }
        ];

        let userAnswers = [];

        document.addEventListener('DOMContentLoaded', function() {
            setupProgressBar();
            generateQuiz();
            drawTaxChart();
        });

        function setupProgressBar() {
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset;
                const docHeight = document.body.scrollHeight - window.innerHeight;
                const scrollPercent = Math.min((scrollTop / docHeight) * 100, 100);
                document.getElementById('progressBar').style.width = scrollPercent + '%';
            });
        }

        function generateQuiz() {
            const container = document.getElementById('quizContainer');

            quizData.forEach((quiz, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.innerHTML = `
                    <h4 style="color: var(--primary-color); margin: 2rem 0 1rem 0;">${index + 1}. ${quiz.question}</h4>
                    <div>
                        ${quiz.options.map((option, optIndex) => `
                            <div class="quiz-option" data-question="${index}" data-option="${optIndex}">
                                ${String.fromCharCode(65 + optIndex)}. ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation-${index}">
                        <strong>è§£é‡Šï¼š</strong>${quiz.explanation}
                    </div>
                `;
                container.appendChild(questionDiv);
            });

            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionIndex = parseInt(this.dataset.question);
                    const optionIndex = parseInt(this.dataset.option);

                    document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                    });

                    this.classList.add('selected');
                    userAnswers[questionIndex] = optionIndex;

                    if (userAnswers.filter(answer => answer !== undefined).length === quizData.length) {
                        document.getElementById('submitQuiz').classList.add('show');
                    }
                });
            });

            document.getElementById('submitQuiz').addEventListener('click', submitQuiz);
        }

        function submitQuiz() {
            let score = 0;

            quizData.forEach((quiz, index) => {
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                const userAnswer = userAnswers[index];

                options.forEach((option, optIndex) => {
                    if (optIndex === quiz.correct) {
                        option.classList.add('correct');
                    } else if (optIndex === userAnswer && optIndex !== quiz.correct) {
                        option.classList.add('incorrect');
                    }
                });

                if (userAnswer === quiz.correct) {
                    score++;
                }

                document.getElementById(`explanation-${index}`).classList.add('show');
            });

            const percentage = Math.round((score / quizData.length) * 100);
            document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;

            let message = percentage >= 80 ? 'ğŸ‰ æ­å–œæ‚¨ç²¾é€šæœŸæƒç¨åŠ¡ç®¡ç†ï¼' : 
                         percentage >= 60 ? 'è‰¯å¥½çš„ç†è§£ï¼Œå»ºè®®æ·±å…¥å­¦ä¹ ç¨åŠ¡ä¼˜åŒ–ç­–ç•¥ã€‚' : 
                         'éœ€è¦åŠ å¼ºå¯¹æœŸæƒç¨åŠ¡å’Œåˆè§„è¦æ±‚çš„å­¦ä¹ ã€‚';

            document.getElementById('resultsMessage').textContent = message;
            document.getElementById('quizResults').classList.add('show');
            document.getElementById('submitQuiz').style.display = 'none';
        }

        function drawTaxChart() {
            const canvas = document.getElementById('taxChart');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const padding = 80;
            const chartWidth = canvas.width - 2 * padding;
            const chartHeight = canvas.height - 2 * padding;

            // Chart data
            const categories = ['çŸ­æœŸæŠ•æœº', 'é•¿æœŸæŠ•æœº', 'çŸ­æœŸå¯¹å†²', 'é•¿æœŸå¯¹å†²', 'æ”¶ç›Šå¢å¼º'];
            const grossReturn = [15, 15, 8, 8, 12];
            const taxCost = [5.55, 3, 2.96, 1.6, 4.44];
            const netReturn = [9.45, 12, 5.04, 6.4, 7.56];

            const barWidth = chartWidth / (categories.length * 1.5);
            const maxValue = Math.max(...grossReturn);

            // Draw axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.stroke();

            // Draw bars for each category
            categories.forEach((category, i) => {
                const x = padding + (i + 0.5) * (chartWidth / categories.length) - barWidth / 2;

                // Gross return bar
                const grossHeight = (grossReturn[i] / maxValue) * chartHeight;
                ctx.fillStyle = '#dc2626';
                ctx.fillRect(x - barWidth/6, canvas.height - padding - grossHeight, barWidth/3, grossHeight);

                // Tax cost bar (stacked)
                const taxHeight = (taxCost[i] / maxValue) * chartHeight;
                ctx.fillStyle = '#0891b2';
                ctx.fillRect(x, canvas.height - padding - grossHeight, barWidth/3, taxHeight);

                // Net return bar
                const netHeight = (netReturn[i] / maxValue) * chartHeight;
                ctx.fillStyle = '#059669';
                ctx.fillRect(x + barWidth/6, canvas.height - padding - netHeight, barWidth/3, netHeight);

                // Category labels
                ctx.fillStyle = '#ccc';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(category, x, canvas.height - padding + 20);

                // Value labels
                ctx.fillStyle = '#ffd700';
                ctx.font = '10px Arial';
                ctx.fillText(`${grossReturn[i]}%`, x - barWidth/6 + barWidth/6, canvas.height - padding - grossHeight - 5);
                ctx.fillText(`${netReturn[i]}%`, x + barWidth/6 + barWidth/6, canvas.height - padding - netHeight - 5);
            });

            // Y-axis labels
            ctx.fillStyle = '#ccc';
            ctx.font = '12px Arial';
            ctx.textAlign = 'right';
            for (let i = 0; i <= 4; i++) {
                const y = canvas.height - padding - (i * chartHeight / 4);
                const value = (i * maxValue / 4).toFixed(0);
                ctx.fillText(`${value}%`, padding - 10, y);
            }

            // Add title
            ctx.fillStyle = '#ffd700';
            ctx.font = '18px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('æœŸæƒäº¤æ˜“ç¨åŠ¡å½±å“å¯¹æ¯”', canvas.width / 2, 30);

            // Add legend
            ctx.font = '14px Arial';
            ctx.fillStyle = '#dc2626';
            ctx.fillRect(padding + 20, 60, 15, 15);
            ctx.fillStyle = '#ccc';
            ctx.textAlign = 'left';
            ctx.fillText('ç¨å‰æ”¶ç›Š', padding + 45, 72);

            ctx.fillStyle = '#0891b2';
            ctx.fillRect(padding + 150, 60, 15, 15);
            ctx.fillText('ç¨åŠ¡æˆæœ¬', padding + 175, 72);

            ctx.fillStyle = '#059669';
            ctx.fillRect(padding + 280, 60, 15, 15);
            ctx.fillText('ç¨åå‡€æ”¶ç›Š', padding + 305, 72);
        }

        function calculateTax() {
            const grossIncome = parseFloat(document.getElementById('grossIncome').value);
            const holdingPeriod = document.getElementById('holdingPeriod').value;
            const taxStatus = document.getElementById('taxStatus').value;
            const incomeLevel = document.getElementById('incomeLevel').value;
            const tradingLoss = parseFloat(document.getElementById('tradingLoss').value);
            const tradingExpenses = parseFloat(document.getElementById('tradingExpenses').value);

            let taxRate = 0;
            let capitalGainsRate = 0;

            // Determine tax rates based on income level and holding period
            if (holdingPeriod === 'short') {
                // Short-term gains taxed as ordinary income
                if (incomeLevel === 'low') taxRate = 0.12;
                else if (incomeLevel === 'medium') taxRate = 0.24;
                else taxRate = 0.37;
                capitalGainsRate = taxRate;
            } else {
                // Long-term capital gains rates
                if (incomeLevel === 'low') {
                    taxRate = 0.12; // ordinary income
                    capitalGainsRate = 0.0;
                } else if (incomeLevel === 'medium') {
                    taxRate = 0.24;
                    capitalGainsRate = 0.15;
                } else {
                    taxRate = 0.37;
                    capitalGainsRate = 0.20;
                }
            }

            // Calculate net income after losses and expenses
            const netIncome = Math.max(0, grossIncome - tradingLoss - tradingExpenses);
            const taxOwed = netIncome * capitalGainsRate;
            const afterTaxIncome = netIncome - taxOwed;

            // Additional calculations
            const effectiveTaxRate = netIncome > 0 ? (taxOwed / grossIncome) * 100 : 0;
            const taxSavings = tradingLoss * capitalGainsRate;

            const results = `
                <h4 style="color: var(--tax-color); margin-bottom: 1.5rem;">ğŸ’° ç¨åŠ¡å½±å“åˆ†æç»“æœ</h4>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 2rem 0;">
                    <div style="text-align: center; padding: 1rem; background: rgba(220, 38, 38, 0.1); border-radius: 8px;">
                        <strong style="color: var(--tax-color);">åº”ç”¨ç¨ç‡</strong><br>
                        <span style="font-size: 1.3em; color: var(--primary-color);">${(capitalGainsRate * 100).toFixed(1)}%</span>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(8, 145, 178, 0.1); border-radius: 8px;">
                        <strong style="color: var(--compliance-color);">åº”ç¨æ”¶å…¥</strong><br>
                        <span style="font-size: 1.3em; color: var(--primary-color);">$${netIncome.toLocaleString()}</span>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">
                        <strong style="color: var(--text-color);">åº”ç¼´ç¨æ¬¾</strong><br>
                        <span style="font-size: 1.3em; color: var(--primary-color);">$${taxOwed.toLocaleString()}</span>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(5, 150, 105, 0.1); border-radius: 8px;">
                        <strong style="color: var(--optimization-color);">ç¨åå‡€æ”¶å…¥</strong><br>
                        <span style="font-size: 1.3em; color: var(--primary-color);">$${afterTaxIncome.toLocaleString()}</span>
                    </div>
                </div>

                <div style="margin: 2rem 0; padding: 2rem; background: rgba(255, 215, 0, 0.1); border-radius: 12px; border-left: 4px solid var(--primary-color);">
                    <h5 style="color: var(--primary-color); margin-bottom: 1rem;">ğŸ“Š è¯¦ç»†åˆ†æ</h5>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div>
                            <strong>å®é™…ç¨ç‡ï¼š</strong> ${effectiveTaxRate.toFixed(2)}%<br>
                            <strong>æŒæœ‰æœŸç±»å‹ï¼š</strong> ${holdingPeriod === 'short' ? 'çŸ­æœŸ' : 'é•¿æœŸ'}<br>
                            <strong>ç¨åŠ¡èº«ä»½ï¼š</strong> ${taxStatus === 'single' ? 'å•èº«' : taxStatus === 'married' ? 'å¤«å¦»åˆå¹¶' : 'æˆ·ä¸»'}
                        </div>
                        <div>
                            <strong>äº¤æ˜“æŸå¤±æŠµæ‰£ï¼š</strong> $${tradingLoss.toLocaleString()}<br>
                            <strong>è´¹ç”¨æŠµæ‰£ï¼š</strong> $${tradingExpenses.toLocaleString()}<br>
                            <strong>æŸå¤±èŠ‚ç¨ï¼š</strong> $${taxSavings.toFixed(0)}
                        </div>
                    </div>
                </div>

                <div style="margin: 2rem 0; padding: 1.5rem; background: rgba(8, 145, 178, 0.1); border-radius: 12px; border-left: 4px solid var(--compliance-color);">
                    <h5 style="color: var(--compliance-color); margin-bottom: 1rem;">ğŸ’¡ ç¨åŠ¡ä¼˜åŒ–å»ºè®®</h5>
                    <ul style="color: var(--text-secondary); margin-left: 1rem;">
                        <li>${holdingPeriod === 'short' ? 'è€ƒè™‘å»¶é•¿æŒæœ‰æœŸä»¥è·å¾—é•¿æœŸèµ„æœ¬æ”¶ç›Šç¨ç‡' : 'è‰¯å¥½åˆ©ç”¨äº†é•¿æœŸèµ„æœ¬æ”¶ç›Šä¼˜æƒ ç¨ç‡'}</li>
                        <li>${effectiveTaxRate > 25 ? 'ç¨è´Ÿè¾ƒé‡ï¼Œå»ºè®®è€ƒè™‘ç¨åŠ¡å»¶é€’ç­–ç•¥' : 'ç¨è´Ÿåˆç†ï¼Œå½“å‰ç­–ç•¥å¯è¡Œ'}</li>
                        <li>${tradingLoss > 0 ? 'è‰¯å¥½åˆ©ç”¨äº†æŸå¤±æŠµæ‰£æœºåˆ¶' : 'æ³¨æ„åœ¨å¹´æœ«å‰å®ç°éƒ¨åˆ†æŸå¤±ä»¥å¹³è¡¡æ”¶ç›Š'}</li>
                        <li>å»ºè®®å’¨è¯¢ä¸“ä¸šç¨åŠ¡é¡¾é—®åˆ¶å®šä¸ªæ€§åŒ–ä¼˜åŒ–æ–¹æ¡ˆ</li>
                    </ul>
                </div>
            `;

            document.getElementById('taxOutput').innerHTML = results;
            document.getElementById('taxResults').classList.add('show');
        }
    </script>
</body>
</html>